echo "ğŸ” Running pre-commit checks..."

# Run TypeScript check on frontend (BLOCKING)
echo "ğŸ“ Checking TypeScript..."
pnpm --filter frontend typecheck

if [ $? -ne 0 ]; then
  echo "âŒ TypeScript check failed! Please fix the type errors before committing."
  echo "ğŸ’¡ Run 'pnpm typecheck' to see the errors."
  exit 1
fi

echo "âœ… TypeScript check passed!"

# Run Biome lint check (NON-BLOCKING WARNING)
echo "ğŸ§¹ Running Biome linting..."
if ! pnpm --filter frontend lint:check >/dev/null 2>&1; then
  echo "âš ï¸ Biome linting issues found. Consider running 'pnpm lint' to auto-fix."
  echo "ğŸ“ Lint issues won't block the commit, but TypeScript errors will."
fi

echo "âœ… Pre-commit checks completed! TypeScript passed."
